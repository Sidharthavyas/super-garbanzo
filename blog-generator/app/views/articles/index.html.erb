<!DOCTYPE html>
<html>
<head>
  <title>AI Programming Blog</title>
  <%= csrf_meta_tags %>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: Georgia, serif;
      background: #f5f7fa;
      line-height: 1.6;
    }
    .nav {
      background: #2c3e50;
      padding: 15px;
      text-align: center;
    }
    .nav a {
      color: white;
      text-decoration: none;
      margin: 0 20px;
      font-weight: 600;
      font-family: -apple-system, sans-serif;
    }
    .nav a:hover { text-decoration: underline; }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-align: center;
      padding: 80px 20px;
    }
    .header h1 { font-size: 54px; margin-bottom: 15px; }
    .header p { font-size: 20px; opacity: 0.95; }
    .container { max-width: 900px; margin: 40px auto; padding: 0 20px; }
    .flash {
      padding: 15px 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      font-family: -apple-system, sans-serif;
    }
    .flash.success { background: #d4edda; color: #155724; }
    .flash.error { background: #f8d7da; color: #721c24; }
    .article-card {
      background: white;
      padding: 40px;
      margin-bottom: 35px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      transition: transform 0.3s;
    }
    .article-card:hover { transform: translateY(-5px); }
    .article-card h2 { font-size: 32px; margin-bottom: 15px; color: #2c3e50; }
    .article-card h2 a { color: #2c3e50; text-decoration: none; }
    .article-card h2 a:hover { color: #667eea; }
    .article-meta {
      color: #7f8c8d;
      font-size: 14px;
      margin-bottom: 20px;
      font-family: -apple-system, sans-serif;
    }
    .article-excerpt { color: #34495e; font-size: 18px; line-height: 1.8; margin-bottom: 20px; }
    .read-more {
      color: #667eea;
      text-decoration: none;
      font-weight: bold;
      font-family: -apple-system, sans-serif;
    }
    .read-more:hover { color: #764ba2; }
    .empty-state {
      text-align: center;
      padding: 80px 20px;
      background: white;
      border-radius: 10px;
    }
    .empty-state h2 { font-size: 32px; color: #7f8c8d; margin-bottom: 20px; }
    .empty-state a {
      display: inline-block;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 15px 30px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      margin-top: 20px;
      font-family: -apple-system, sans-serif;
    }
  </style>
</head>
<body>
  <div class="nav">
    <a href="/">üìù Blog Home</a>
    <a href="<%= new_articles_path %>">ü§ñ Generate Articles</a>
  </div>

  <div class="header">
    <h1>üìù AI Programming Blog</h1>
    <p>Comprehensive Articles Generated by Google Gemini AI</p>
  </div>

  <div class="container">
    <% if flash[:success] %>
      <div class="flash success">‚úÖ <%= flash[:success] %></div>
    <% end %>
    <% if flash[:error] %>
      <div class="flash error">‚ùå <%= flash[:error] %></div>
    <% end %>

    <% if @articles.any? %>
      <% @articles.each do |article| %>
        <article class="article-card">
          <h2><%= link_to article.title, article_path(article) %></h2>
          <div class="article-meta">
            By <strong><%= article.author %></strong> ‚Ä¢ <%= article.created_at.strftime("%B %d, %Y") %>
          </div>
          <div class="article-excerpt">
            <%= truncate(strip_tags(article.content), length: 300, separator: ' ') %>
          </div>
          <%= link_to "Read Full Article ‚Üí", article_path(article), class: "read-more" %>
        </article>
      <% end %>
    <% else %>
      <div class="empty-state">
        <h2>üì≠ No Articles Yet</h2>
        <p style="color: #7f8c8d; font-size: 18px;">Generate your first AI-powered article to get started!</p>
        <%= link_to "ü§ñ Generate Articles with AI", new_articles_path %>
      </div>
    <% end %>
  </div>
</body>
</html>